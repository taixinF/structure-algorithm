<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //封装队列类
    function Queue() {
        //属性
        this.items = []

        //方法
        // enqueue(item) 入队，将元素加入到队列中
        Queue.prototype.enqueue = function (item) {
            this.items.push(item);
        }
        // dequeue() 出队，从队列中删除队头元素，返回删除的那个元素
        Queue.prototype.dequeue = function () {
            return this.items.shift(); //数组方法删除数组第一个元素
        }
        // front() 查看队列的队头元素
        Queue.prototype.front = function () {
            return this.items[0];
        }
        // isEmpty() 查看队列是否为空
        Queue.prototype.isEmpty = function () {
            return this.items.length === 0;
        }
        // size() 查看队列中元素的个数
        Queue.prototype.size = function () {
            return this.items.length;
        }
        // toString() 将队列中的元素以字符串形式返回
        Queue.prototype.toString = function () {
            let result = "";
            for (let item of this.items) {
                result += item + " ";
            }
            return result;
        }

    }

    // //使用队列
    // var queue = new Queue()
    //
    // //将元素加入到队列中
    // queue.enqueue('abc')
    // queue.enqueue('cba')
    // queue.enqueue('nba')
    // queue.enqueue('abn')
    // alert(queue)
    // //从队列中删除元素
    // queue.dequeue()
    // alert(queue)
    // queue.dequeue()
    // alert(queue)
    // //查看出列第一个元素
    // alert(queue.front())


    //面试题 击鼓传花
    function passGame(nameList, num) {
        const queue = new Queue()
        //将所有人依次加入队列
        for (var i = 0; i < nameList.length; i++) {
            queue.enqueue(nameList[i])
        }
        while (queue.size() > 1) {
            //所有人已经依次加入
            for (var i = 0; num - 1; i++) {
                queue.enqueue(queue.dequeue())
            }
            //number 对应这个人直接删除掉
            queue.dequeue()
        }
        //获取剩下的那一个人
        alert(queue.size())
        var endName = queue.front(            )
        alert('最终剩下的人:' + endName)
        //返回下标
        return nameList.indexOf(endName)
    }


    //测试击鼓传花
    const names = ["lily", "lucy", "tom", "liLei", "why"];
    const targetIndex = passGame(names, 3);
    alert("击鼓传花" + names[targetIndex] + targetIndex);
</script>
</body>
</html>