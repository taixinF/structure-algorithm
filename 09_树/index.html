<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //binary search tree
    function BinarySearchTree() {
        function Node(key) {
            this.key = key
            this.left = null
            this.right = null
        }

        //property
        this.root = null

        //method
        //INSERT
        BinarySearchTree.prototype.insert = function (key) {
            // 根据key创建节点
            let newNode = new Node(key)

            //判断根节点是否有值
            if (this.root == null) {
                this.root = newNode
            } else {
                this.insertNode(this.root, newNode)
            }
        }

        //recursive method
        BinarySearchTree.prototype.insertNode = function (node, newNode) {
            if (newNode.key < node.key) {//towardsTheLeft
                if (node.left == null) {
                    node.left = newNode
                } else {
                    this.insertNode(node.left, newNode)
                }
            } else {//towardsTheRight
                if (node.right == null) {
                    node.right = newNode
                } else {
                    this.insertNode(node.right, newNode)
                }
            }
        }

        //traversalOfTree
        //先序遍历
        //内部不关心 handler看你自己拿到怎么处理
        BinarySearchTree.prototype.preOrderTraversal = function (handler) {
            this.preorderTraversalNode(this.root, handler)
        }
        BinarySearchTree.prototype.preorderTraversalNode = function (node, handler) {
            if (node != null) {
                //processing through node
                handler(node.key)
                //Processing through node - left node
                this.preorderTraversalNode(node.left, handler)
                //Processing through node - right node
                this.preorderTraversalNode(node.right, handler)
            }
        }

        //中序遍历
        BinarySearchTree.prototype.midOrderTraversal = function (handler) {
            this.midOrderTraversalNode(this.root, handler)
        }

        BinarySearchTree.prototype.midOrderTraversalNode = function (node, handler) {
            if (node != null) {
                //Processing through node - left node
                this.midOrderTraversalNode(node.left, handler)
                //processing through node
                handler(node.key)
                //Processing through node - right node
                this.midOrderTraversalNode(node.right, handler)
            }
        }

        BinarySearchTree.prototype.bfOrderTraversal = function (handler) {
            this.bfOrderTraversalNode(this.root, handler)
        }

        BinarySearchTree.prototype.bfOrderTraversalNode = function (node, handler) {
            if (node != null) {
                //Processing through node - left node
                this.bfOrderTraversalNode(node.left, handler)
                //Processing through node - right node
                this.bfOrderTraversalNode(node.right, handler)
                //processing through node
                handler(node.key)
            }
        }

    }

    //establish
    const bst = new BinarySearchTree();
    bst.insert(11);
    bst.insert(7);
    bst.insert(5);
    bst.insert(3);
    bst.insert(9);
    bst.insert(8);
    bst.insert(10);
    bst.insert(15);
    bst.insert(13);
    bst.insert(12);
    bst.insert(14);
    bst.insert(20);
    bst.insert(18);
    bst.insert(25);
    bst.insert(19);
    bst.insert(6);

    // 1.先序遍历
    let resultString = ''
    bst.preOrderTraversal(function (key) {
        resultString += key + ' '
    })
    alert(resultString)

    // 2.中序遍历
    resultString = ''
    bst.midOrderTraversal(function (key) {
        resultString += key + ' '
    })
    alert(resultString)

    // 3.后序遍历
    resultString = ''
    bst.bfOrderTraversal(function (key) {
        resultString += key + ' '
    })
    alert(resultString)
</script>
</body>
</html>